{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@stomp/ng2-stompjs\";\nimport * as i2 from \"@angular/forms\";\nexport class ChatComponent {\n  constructor(rxStompService) {\n    this.rxStompService = rxStompService;\n    this.colors = ['#2196F3', '#32c787', '#00BCD4', '#ff5652', '#ffc107', '#ff85af', '#FF9800', '#39bbb0'];\n    this.usernamePage = document.querySelector('#username-page');\n    this.chatPage = document.querySelector('#chat-page');\n    this.usernameForm = document.querySelector('#usernameForm');\n    this.messageForm = document.querySelector('#messageForm');\n    this.messageInput = document.querySelector('#message');\n    this.messageArea = document.querySelector('#messageArea');\n    this.connectingElement = document.querySelector('.connecting');\n    this.username = '';\n  }\n  ngOnInit() {\n    this.usernameForm.addEventListener('submit', this.connect.bind(this), true);\n    this.messageForm.addEventListener('submit', this.sendMessage.bind(this), true);\n    this.rxStompService.watch('/topic/public').subscribe(this.onMessageReceived.bind(this));\n    this.rxStompService.connected$.subscribe(this.onConnected.bind(this));\n    this.rxStompService.connectionState$.subscribe(state => {\n      if (state === 1) {\n        // State 1 represents OPEN (connected)\n        this.onConnected();\n      } else {\n        // Any other state represents CLOSED (not connected)\n        this.onError(null); // You may provide an error message if needed\n      }\n    });\n\n    this.rxStompService.activate();\n  }\n  connect(event) {\n    this.username = document.querySelector('#name').value.trim();\n    if (this.username) {\n      this.usernamePage.classList.add('hidden');\n      this.chatPage.classList.remove('hidden');\n      this.rxStompService.publish({\n        destination: '/app/chat.addUser',\n        body: JSON.stringify({\n          sender: this.username,\n          type: 'JOIN'\n        })\n      });\n    }\n    event.preventDefault();\n  }\n  onConnected() {\n    this.rxStompService.publish({\n      destination: '/app/chat.addUser',\n      body: JSON.stringify({\n        sender: this.username,\n        type: 'JOIN'\n      })\n    });\n    this.connectingElement.classList.add('hidden');\n  }\n  onError(error) {\n    this.connectingElement.textContent = 'Could not connect to WebSocket server. Please refresh this page to try again!';\n    this.connectingElement.style.color = 'red';\n  }\n  sendMessage(event) {\n    const messageContent = this.messageInput.value.trim();\n    if (messageContent) {\n      const chatMessage = {\n        sender: this.username,\n        content: messageContent,\n        type: 'CHAT'\n      };\n      this.rxStompService.publish({\n        destination: '/app/chat.sendMessage',\n        body: JSON.stringify(chatMessage)\n      });\n      this.messageInput.value = '';\n    }\n    event.preventDefault();\n  }\n  onMessageReceived(payload) {\n    const message = JSON.parse(payload.body);\n    const messageElement = document.createElement('li');\n    if (message.type === 'JOIN') {\n      messageElement.classList.add('event-message');\n      message.content = message.sender + ' joined!';\n    } else if (message.type === 'LEAVE') {\n      messageElement.classList.add('event-message');\n      message.content = message.sender + ' left!';\n    } else {\n      messageElement.classList.add('chat-message');\n      const avatarElement = document.createElement('i');\n      const avatarText = document.createTextNode(message.sender[0]);\n      avatarElement.appendChild(avatarText);\n      messageElement.appendChild(avatarElement);\n      const usernameElement = document.createElement('span');\n      const usernameText = document.createTextNode(message.sender);\n      usernameElement.appendChild(usernameText);\n      messageElement.appendChild(usernameElement);\n    }\n    const textElement = document.createElement('p');\n    const messageText = document.createTextNode(message.content);\n    textElement.appendChild(messageText);\n    messageElement.appendChild(textElement);\n    this.messageArea.appendChild(messageElement);\n    this.messageArea.scrollTop = this.messageArea.scrollHeight;\n  }\n  getAvatarColor(messageSender) {\n    let hash = 0;\n    for (let i = 0; i < messageSender.length; i++) {\n      hash = 31 * hash + messageSender.charCodeAt(i);\n    }\n    const index = Math.abs(hash % this.colors.length);\n    return this.colors[index];\n  }\n}\nChatComponent.ɵfac = function ChatComponent_Factory(t) {\n  return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.RxStompService));\n};\nChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatComponent,\n  selectors: [[\"app-chat\"]],\n  decls: 24,\n  vars: 0,\n  consts: [[\"id\", \"username-page\"], [1, \"username-page-container\"], [1, \"title\"], [\"id\", \"usernameForm\", \"name\", \"usernameForm\"], [1, \"form-group\"], [\"type\", \"text\", \"id\", \"name\", \"placeholder\", \"Username\", \"autocomplete\", \"off\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"accent\", \"username-submit\"], [\"id\", \"chat-page\", 1, \"hidden\"], [1, \"chat-container\"], [1, \"chat-header\"], [1, \"connecting\"], [\"id\", \"messageArea\"], [\"id\", \"messageForm\", \"name\", \"messageForm\"], [1, \"input-group\", \"clearfix\"], [\"type\", \"text\", \"id\", \"message\", \"placeholder\", \"Type a message...\", \"autocomplete\", \"off\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"primary\"]],\n  template: function ChatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Type your username to enter the Chatroom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3)(5, \"div\", 4);\n      i0.ɵɵelement(6, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"button\", 6);\n      i0.ɵɵtext(9, \"Start Chatting\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 8)(12, \"div\", 9)(13, \"h2\");\n      i0.ɵɵtext(14, \"Spring WebSocket Chat Demo - By Alibou\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 10);\n      i0.ɵɵtext(16, \" Connecting... \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"ul\", 11);\n      i0.ɵɵelementStart(18, \"form\", 12)(19, \"div\", 4)(20, \"div\", 13);\n      i0.ɵɵelement(21, \"input\", 14);\n      i0.ɵɵelementStart(22, \"button\", 15);\n      i0.ɵɵtext(23, \"Send\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n}\\n\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n    height: 100%;\\n    overflow: hidden;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    font-weight: 400;\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n    font-size: 1rem;\\n    line-height: 1.58;\\n    color: #333;\\n    background-color: #f4f4f4;\\n    height: 100%;\\n}\\n\\n.clearfix[_ngcontent-%COMP%]:after {\\n    display: block;\\n    content: \\\"\\\";\\n    clear: both;\\n}\\n\\n.hidden[_ngcontent-%COMP%] {\\n    display: none;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n    width: 100%;\\n    min-height: 38px;\\n    font-size: 15px;\\n    border: 1px solid #c8c8c8;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n    padding-left: 10px;\\n    outline: none;\\n}\\n\\nh1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n    margin-bottom: 20px;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n    font-size: 1.7em;\\n}\\n\\na[_ngcontent-%COMP%] {\\n    color: #6db33f;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n    box-shadow: none;\\n    border: 1px solid transparent;\\n    font-size: 14px;\\n    outline: none;\\n    line-height: 100%;\\n    white-space: nowrap;\\n    vertical-align: middle;\\n    padding: 0.6rem 1rem;\\n    border-radius: 2px;\\n    transition: all 0.2s ease-in-out;\\n    cursor: pointer;\\n    min-height: 38px;\\n}\\n\\nbutton.default[_ngcontent-%COMP%] {\\n    background-color: #e8e8e8;\\n    color: #333;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.12);\\n}\\n\\nbutton.primary[_ngcontent-%COMP%] {\\n    background-color: #6db33f;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.12);\\n    color: #fff;\\n}\\n\\nbutton.accent[_ngcontent-%COMP%] {\\n    background-color: #6db33f;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.12);\\n    color: #fff;\\n}\\n\\n#username-page[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n\\n.username-page-container[_ngcontent-%COMP%] {\\n    background: #fff;\\n    box-shadow: 0 1px 11px rgba(0, 0, 0, 0.27);\\n    border-radius: 2px;\\n    width: 100%;\\n    max-width: 500px;\\n    display: inline-block;\\n    margin-top: 42px;\\n    vertical-align: middle;\\n    position: relative;\\n    padding: 35px 55px 35px;\\n    min-height: 250px;\\n    position: absolute;\\n    top: 50%;\\n    left: 0;\\n    right: 0;\\n    margin: 0 auto;\\n    margin-top: -160px;\\n}\\n\\n.username-page-container[_ngcontent-%COMP%]   .username-submit[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n}\\n\\n\\n#chat-page[_ngcontent-%COMP%] {\\n    position: relative;\\n    height: 100%;\\n}\\n\\n.chat-container[_ngcontent-%COMP%] {\\n    max-width: 700px;\\n    margin-left: auto;\\n    margin-right: auto;\\n    background-color: #fff;\\n    box-shadow: 0 1px 11px rgba(0, 0, 0, 0.27);\\n    margin-top: 30px;\\n    height: calc(100% - 60px);\\n    max-height: 600px;\\n    position: relative;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    background-color: #FFF;\\n    margin: 0;\\n    overflow: auto;\\n    overflow-y: scroll;\\n    padding: 0 20px 0px 20px;\\n    height: calc(100% - 150px);\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   #messageForm[_ngcontent-%COMP%] {\\n    padding: 20px;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    line-height: 1.5rem;\\n    padding: 10px 20px;\\n    margin: 0;\\n    border-bottom: 1px solid #f4f4f4;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin: 0;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .event-message[_ngcontent-%COMP%] {\\n    width: 100%;\\n    text-align: center;\\n    clear: both;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .event-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    color: #777;\\n    font-size: 14px;\\n    word-wrap: break-word;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%] {\\n    padding-left: 68px;\\n    position: relative;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    position: absolute;\\n    width: 42px;\\n    height: 42px;\\n    overflow: hidden;\\n    left: 10px;\\n    display: inline-block;\\n    vertical-align: middle;\\n    font-size: 18px;\\n    line-height: 42px;\\n    color: #fff;\\n    text-align: center;\\n    border-radius: 50%;\\n    font-style: normal;\\n    text-transform: uppercase;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    color: #333;\\n    font-weight: 600;\\n}\\n\\n#chat-page[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    color: #43464b;\\n}\\n\\n#messageForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    float: left;\\n    width: calc(100% - 85px);\\n}\\n\\n#messageForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    float: left;\\n    width: 80px;\\n    height: 38px;\\n    margin-left: 5px;\\n}\\n\\n.chat-header[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding: 15px;\\n    border-bottom: 1px solid #ececec;\\n}\\n\\n.chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    margin: 0;\\n    font-weight: 500;\\n}\\n\\n.connecting[_ngcontent-%COMP%] {\\n    padding-top: 5px;\\n    text-align: center;\\n    color: #777;\\n    position: absolute;\\n    top: 65px;\\n    width: 100%;\\n}\\n\\n\\n@media screen and (max-width: 730px) {\\n\\n    .chat-container[_ngcontent-%COMP%] {\\n        margin-left: 10px;\\n        margin-right: 10px;\\n        margin-top: 10px;\\n    }\\n}\\n\\n@media screen and (max-width: 480px) {\\n    .chat-container[_ngcontent-%COMP%] {\\n        height: calc(100% - 30px);\\n    }\\n\\n    .username-page-container[_ngcontent-%COMP%] {\\n        width: auto;\\n        margin-left: 15px;\\n        margin-right: 15px;\\n        padding: 25px;\\n    }\\n\\n    #chat-page[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n        height: calc(100% - 120px);\\n    }\\n\\n    #messageForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        width: 65px;\\n    }\\n\\n    #messageForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 70px);\\n    }\\n\\n    .chat-header[_ngcontent-%COMP%] {\\n        padding: 10px;\\n    }\\n\\n    .connecting[_ngcontent-%COMP%] {\\n        top: 60px;\\n    }\\n\\n    .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n        font-size: 1.1em;\\n    }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUdJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGdCQUFnQjtJQUNoQiwyREFBMkQ7SUFDM0QsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsV0FBVztJQUNYLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLDZCQUE2QjtJQUM3QixlQUFlO0lBQ2YsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLG9CQUFvQjtJQUNwQixrQkFBa0I7SUFDbEIsZ0NBQWdDO0lBQ2hDLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QiwyQ0FBMkM7SUFDM0MsV0FBVztBQUNmOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLDJDQUEyQztJQUMzQyxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsMENBQTBDO0lBQzFDLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQix1QkFBdUI7SUFDdkIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsT0FBTztJQUNQLFFBQVE7SUFDUixjQUFjO0lBQ2Qsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOzs7QUFHQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsc0JBQXNCO0lBQ3RCLDBDQUEwQztJQUMxQyxnQkFBZ0I7SUFDaEIseUJBQXlCO0lBQ3pCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLFNBQVM7SUFDVCxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLHdCQUF3QjtJQUN4QiwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZUFBZTtJQUNmLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFdBQVc7SUFDWCxZQUFZO0lBQ1osZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0FBQ2Y7OztBQUdBOztJQUVJO1FBQ0ksaUJBQWlCO1FBQ2pCLGtCQUFrQjtRQUNsQixnQkFBZ0I7SUFDcEI7QUFDSjs7QUFFQTtJQUNJO1FBQ0kseUJBQXlCO0lBQzdCOztJQUVBO1FBQ0ksV0FBVztRQUNYLGlCQUFpQjtRQUNqQixrQkFBa0I7UUFDbEIsYUFBYTtJQUNqQjs7SUFFQTtRQUNJLDBCQUEwQjtJQUM5Qjs7SUFFQTtRQUNJLFdBQVc7SUFDZjs7SUFFQTtRQUNJLHdCQUF3QjtJQUM1Qjs7SUFFQTtRQUNJLGFBQWE7SUFDakI7O0lBRUE7UUFDSSxTQUFTO0lBQ2I7O0lBRUE7UUFDSSxnQkFBZ0I7SUFDcEI7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIioge1xyXG4gICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuaHRtbCxib2R5IHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbmJvZHkge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICBmb250LWZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNTg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmNGY0ZjQ7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5jbGVhcmZpeDphZnRlciB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBjbGVhcjogYm90aDtcclxufVxyXG5cclxuLmhpZGRlbiB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWluLWhlaWdodDogMzhweDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjOGM4Yzg7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbmlucHV0IHtcclxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbmgxLCBoMiwgaDMsIGg0LCBoNSwgaDYge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbmgxIHtcclxuICAgIGZvbnQtc2l6ZTogMS43ZW07XHJcbn1cclxuXHJcbmEge1xyXG4gICAgY29sb3I6ICM2ZGIzM2Y7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgICBib3gtc2hhZG93OiBub25lO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEwMCU7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIHBhZGRpbmc6IDAuNnJlbSAxcmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiAzOHB4O1xyXG59XHJcblxyXG5idXR0b24uZGVmYXVsdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG59XHJcblxyXG5idXR0b24ucHJpbWFyeSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmRiMzNmO1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG5idXR0b24uYWNjZW50IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZGIzM2Y7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbiN1c2VybmFtZS1wYWdlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnVzZXJuYW1lLXBhZ2UtY29udGFpbmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICBib3gtc2hhZG93OiAwIDFweCAxMXB4IHJnYmEoMCwgMCwgMCwgMC4yNyk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBtYXJnaW4tdG9wOiA0MnB4O1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHBhZGRpbmc6IDM1cHggNTVweCAzNXB4O1xyXG4gICAgbWluLWhlaWdodDogMjUwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgbWFyZ2luLXRvcDogLTE2MHB4O1xyXG59XHJcblxyXG4udXNlcm5hbWUtcGFnZS1jb250YWluZXIgLnVzZXJuYW1lLXN1Ym1pdCB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG5cclxuI2NoYXQtcGFnZSB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5jaGF0LWNvbnRhaW5lciB7XHJcbiAgICBtYXgtd2lkdGg6IDcwMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggMTFweCByZ2JhKDAsIDAsIDAsIDAuMjcpO1xyXG4gICAgbWFyZ2luLXRvcDogMzBweDtcclxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gNjBweCk7XHJcbiAgICBtYXgtaGVpZ2h0OiA2MDBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuI2NoYXQtcGFnZSB1bCB7XHJcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbiAgICBwYWRkaW5nOiAwIDIwcHggMHB4IDIwcHg7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDE1MHB4KTtcclxufVxyXG5cclxuI2NoYXQtcGFnZSAjbWVzc2FnZUZvcm0ge1xyXG4gICAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuI2NoYXQtcGFnZSB1bCBsaSB7XHJcbiAgICBsaW5lLWhlaWdodDogMS41cmVtO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmNGY0ZjQ7XHJcbn1cclxuXHJcbiNjaGF0LXBhZ2UgdWwgbGkgcCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbiNjaGF0LXBhZ2UgLmV2ZW50LW1lc3NhZ2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjbGVhcjogYm90aDtcclxufVxyXG5cclxuI2NoYXQtcGFnZSAuZXZlbnQtbWVzc2FnZSBwIHtcclxuICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xyXG59XHJcblxyXG4jY2hhdC1wYWdlIC5jaGF0LW1lc3NhZ2Uge1xyXG4gICAgcGFkZGluZy1sZWZ0OiA2OHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4jY2hhdC1wYWdlIC5jaGF0LW1lc3NhZ2UgaSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogNDJweDtcclxuICAgIGhlaWdodDogNDJweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBsZWZ0OiAxMHB4O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGxpbmUtaGVpZ2h0OiA0MnB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG59XHJcblxyXG4jY2hhdC1wYWdlIC5jaGF0LW1lc3NhZ2Ugc3BhbiB7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbiNjaGF0LXBhZ2UgLmNoYXQtbWVzc2FnZSBwIHtcclxuICAgIGNvbG9yOiAjNDM0NjRiO1xyXG59XHJcblxyXG4jbWVzc2FnZUZvcm0gLmlucHV0LWdyb3VwIGlucHV0IHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDg1cHgpO1xyXG59XHJcblxyXG4jbWVzc2FnZUZvcm0gLmlucHV0LWdyb3VwIGJ1dHRvbiB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgaGVpZ2h0OiAzOHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG5cclxuLmNoYXQtaGVhZGVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VjZWNlYztcclxufVxyXG5cclxuLmNoYXQtaGVhZGVyIGgyIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5jb25uZWN0aW5nIHtcclxuICAgIHBhZGRpbmctdG9wOiA1cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogIzc3NztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNjVweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzMwcHgpIHtcclxuXHJcbiAgICAuY2hhdC1jb250YWluZXIge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCkge1xyXG4gICAgLmNoYXQtY29udGFpbmVyIHtcclxuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDMwcHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC51c2VybmFtZS1wYWdlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDI1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgI2NoYXQtcGFnZSB1bCB7XHJcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMjBweCk7XHJcbiAgICB9XHJcblxyXG4gICAgI21lc3NhZ2VGb3JtIC5pbnB1dC1ncm91cCBidXR0b24ge1xyXG4gICAgICAgIHdpZHRoOiA2NXB4O1xyXG4gICAgfVxyXG5cclxuICAgICNtZXNzYWdlRm9ybSAuaW5wdXQtZ3JvdXAgaW5wdXQge1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA3MHB4KTtcclxuICAgIH1cclxuXHJcbiAgICAuY2hhdC1oZWFkZXIge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmNvbm5lY3Rpbmcge1xyXG4gICAgICAgIHRvcDogNjBweDtcclxuICAgIH1cclxuXHJcbiAgICAuY2hhdC1oZWFkZXIgaDIge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMS4xZW07XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["ChatComponent","constructor","rxStompService","colors","usernamePage","document","querySelector","chatPage","usernameForm","messageForm","messageInput","messageArea","connectingElement","username","ngOnInit","addEventListener","connect","bind","sendMessage","watch","subscribe","onMessageReceived","connected$","onConnected","connectionState$","state","onError","activate","event","value","trim","classList","add","remove","publish","destination","body","JSON","stringify","sender","type","preventDefault","error","textContent","style","color","messageContent","chatMessage","content","payload","message","parse","messageElement","createElement","avatarElement","avatarText","createTextNode","appendChild","usernameElement","usernameText","textElement","messageText","scrollTop","scrollHeight","getAvatarColor","messageSender","hash","i","length","charCodeAt","index","Math","abs","i0","ɵɵdirectiveInject","i1","RxStompService","selectors","decls","vars","consts","template","ChatComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Users\\hp\\coChat\\src\\app\\components\\chat\\chat.component.ts","C:\\Users\\hp\\coChat\\src\\app\\components\\chat\\chat.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { RxStompService } from '@stomp/ng2-stompjs';\n\ninterface ChatMessage {\n  content: string;\n  sender: string;\n  type: 'CHAT' | 'JOIN' | 'LEAVE';\n}\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n  usernamePage: HTMLElement;\n  chatPage: HTMLElement;\n  usernameForm: HTMLFormElement;\n  messageForm: HTMLFormElement;\n  messageInput: HTMLInputElement;\n  messageArea: HTMLElement;\n  connectingElement: HTMLElement;\n\n  username: string;\n\n  colors: string[] = [\n    '#2196F3', '#32c787', '#00BCD4', '#ff5652',\n    '#ffc107', '#ff85af', '#FF9800', '#39bbb0'\n  ];\n\n  constructor(private rxStompService: RxStompService) {\n    this.usernamePage = document.querySelector('#username-page')!;\n    this.chatPage = document.querySelector('#chat-page')!;\n    this.usernameForm = document.querySelector('#usernameForm') as HTMLFormElement;\n    this.messageForm = document.querySelector('#messageForm') as HTMLFormElement;\n    this.messageInput = document.querySelector('#message') as HTMLInputElement;\n    this.messageArea = document.querySelector('#messageArea')!;\n    this.connectingElement = document.querySelector('.connecting')!;\n\n    this.username = '';\n  }\n\n  ngOnInit(): void {\n    this.usernameForm.addEventListener('submit', this.connect.bind(this), true);\n    this.messageForm.addEventListener('submit', this.sendMessage.bind(this), true);\n  \n    this.rxStompService.watch('/topic/public').subscribe(this.onMessageReceived.bind(this));\n    this.rxStompService.connected$.subscribe(this.onConnected.bind(this));\n    this.rxStompService.connectionState$.subscribe((state) => {\n      if (state === 1) {\n        // State 1 represents OPEN (connected)\n        this.onConnected();\n      } else {\n        // Any other state represents CLOSED (not connected)\n        this.onError(null); // You may provide an error message if needed\n      }\n    });\n\n    this.rxStompService.activate();\n  }\n\n  connect(event: Event) {\n    this.username = (document.querySelector('#name') as HTMLInputElement).value.trim();\n\n    if (this.username) {\n      this.usernamePage.classList.add('hidden');\n      this.chatPage.classList.remove('hidden');\n\n      this.rxStompService.publish({\n        destination: '/app/chat.addUser',\n        body: JSON.stringify({ sender: this.username, type: 'JOIN' })\n      });\n    }\n    event.preventDefault();\n  }\n\n  onConnected() {\n    this.rxStompService.publish({\n      destination: '/app/chat.addUser',\n      body: JSON.stringify({ sender: this.username, type: 'JOIN' })\n    });\n\n    this.connectingElement.classList.add('hidden');\n  }\n\n  onError(error: any) {\n    this.connectingElement.textContent = 'Could not connect to WebSocket server. Please refresh this page to try again!';\n    this.connectingElement.style.color = 'red';\n  }\n\n  sendMessage(event: Event) {\n    const messageContent = this.messageInput.value.trim();\n    if (messageContent) {\n      const chatMessage: ChatMessage = {\n        sender: this.username,\n        content: messageContent,\n        type: 'CHAT'\n      };\n      this.rxStompService.publish({\n        destination: '/app/chat.sendMessage',\n        body: JSON.stringify(chatMessage)\n      });\n      this.messageInput.value = '';\n    }\n    event.preventDefault();\n  }\n\n  onMessageReceived(payload: any) {\n    const message: ChatMessage = JSON.parse(payload.body);\n\n    const messageElement = document.createElement('li');\n\n    if (message.type === 'JOIN') {\n      messageElement.classList.add('event-message');\n      message.content = message.sender + ' joined!';\n    } else if (message.type === 'LEAVE') {\n      messageElement.classList.add('event-message');\n      message.content = message.sender + ' left!';\n    } else {\n      messageElement.classList.add('chat-message');\n\n      const avatarElement = document.createElement('i');\n      const avatarText = document.createTextNode(message.sender[0]);\n      avatarElement.appendChild(avatarText);\n\n      messageElement.appendChild(avatarElement);\n\n      const usernameElement = document.createElement('span');\n      const usernameText = document.createTextNode(message.sender);\n      usernameElement.appendChild(usernameText);\n      messageElement.appendChild(usernameElement);\n    }\n\n    const textElement = document.createElement('p');\n    const messageText = document.createTextNode(message.content);\n    textElement.appendChild(messageText);\n\n    messageElement.appendChild(textElement);\n\n    this.messageArea.appendChild(messageElement);\n    this.messageArea.scrollTop = this.messageArea.scrollHeight;\n  }\n\n  getAvatarColor(messageSender: string) {\n    let hash = 0;\n    for (let i = 0; i < messageSender.length; i++) {\n      hash = 31 * hash + messageSender.charCodeAt(i);\n    }\n    const index = Math.abs(hash % this.colors.length);\n    return this.colors[index];\n  }\n}\n","<div id=\"username-page\">\n    <div class=\"username-page-container\">\n        <h1 class=\"title\">Type your username to enter the Chatroom</h1>\n        <form id=\"usernameForm\" name=\"usernameForm\">\n            <div class=\"form-group\">\n                <input type=\"text\" id=\"name\" placeholder=\"Username\" autocomplete=\"off\" class=\"form-control\" />\n            </div>\n            <div class=\"form-group\">\n                <button type=\"submit\" class=\"accent username-submit\">Start Chatting</button>\n            </div>\n        </form>\n    </div>\n</div>\n\n<div id=\"chat-page\" class=\"hidden\">\n    <div class=\"chat-container\">\n        <div class=\"chat-header\">\n            <h2>Spring WebSocket Chat Demo - By Alibou</h2>\n        </div>\n        <div class=\"connecting\">\n            Connecting...\n        </div>\n        <ul id=\"messageArea\">\n\n        </ul>\n        <form id=\"messageForm\" name=\"messageForm\">\n            <div class=\"form-group\">\n                <div class=\"input-group clearfix\">\n                    <input type=\"text\" id=\"message\" placeholder=\"Type a message...\" autocomplete=\"off\" class=\"form-control\"/>\n                    <button type=\"submit\" class=\"primary\">Send</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}